#!/usr/bin/perl -w -- 
#
# generated by wxGlade 1.1.0 on Wed Dec  4 11:54:34 2024
#
# To get wxPerl visit http://www.wxperl.it
#

use Wx qw[:allclasses];
use strict;

# begin wxGlade: dependencies
# end wxGlade

# begin wxGlade: extracode
# end wxGlade

package ChordPro::Wx::WxUpdateRequired;

use Wx qw[:everything];
use base qw(Wx::Dialog);
use strict;

sub new {
    my( $self, $parent, $id, $title, $pos, $size, $style, $name ) = @_;
    $parent = undef              unless defined $parent;
    $id     = -1                 unless defined $id;
    $title  = ""                 unless defined $title;
    $pos    = wxDefaultPosition  unless defined $pos;
    $size   = wxDefaultSize      unless defined $size;
    $name   = ""                 unless defined $name;

    # begin wxGlade: ChordPro::Wx::WxUpdateRequired::new
    # Override Wx::Bitmap to use resource search.
    Wx::InitAllImageHandlers();
    $::wxbitmapnew = \&Wx::Bitmap::new;
    use File::Basename;
    *Wx::Bitmap::new = sub {
    	# Only handle Wx::Bitmap->new(file, type) case.
    	goto &$::wxbitmapnew if @_ != 3 || -f $_[1];
    	my ($self, @rest) = @_;
    	$rest[0] = ChordPro::Paths->get->findres( basename($rest[0]),
    						  class => "icons" );
    	$rest[0] ||= ChordPro::Paths->get->findres( "missing.png",
    						    class => "icons" );
    	$::wxbitmapnew->($self, @rest);
    };
    $style = wxDEFAULT_DIALOG_STYLE|wxRESIZE_BORDER
        unless defined $style;

    $self = $self->SUPER::new( $parent, $id, $title, $pos, $size, $style, $name );
    $self->SetTitle("Software Update Required");
    
    $self->{sizer_1} = Wx::BoxSizer->new(wxVERTICAL);
    
    $self->{sizer_3} = Wx::BoxSizer->new(wxHORIZONTAL);
    $self->{sizer_1}->Add($self->{sizer_3}, 0, wxEXPAND, 0);
    
    my $bitmap_1 = Wx::StaticBitmap->new($self, wxID_ANY, Wx::Bitmap->new("/usr/local/src/ChordPro/lib/ChordPro/res/icons/chordpro-splash.png", wxBITMAP_TYPE_ANY));
    $self->{sizer_3}->Add($bitmap_1, 0, 0, 0);
    
    $self->{sizer_4} = Wx::BoxSizer->new(wxVERTICAL);
    $self->{sizer_3}->Add($self->{sizer_4}, 0, wxBOTTOM|wxEXPAND|wxRIGHT|wxTOP, 20);
    
    my $label_3 = Wx::StaticText->new($self, wxID_ANY, "Software Update Required");
    $label_3->SetForegroundColour(Wx::Colour->new(0, 104, 217));
    $label_3->SetFont(Wx::Font->new(20, wxFONTFAMILY_DEFAULT, wxFONTSTYLE_NORMAL, wxFONTWEIGHT_NORMAL, 0, ""));
    $self->{sizer_4}->Add($label_3, 0, wxBOTTOM|wxTOP, 20);
    
    my $label_1 = Wx::StaticText->new($self, wxID_ANY, "ChordPro requires Wx (wxPerl) version \@{[::Wx_min()]} or later.");
    $label_1->SetLabel("ChordPro requires Wx (wxPerl) version $::Wx_min or later.");
    $self->{sizer_4}->Add($label_1, 0, wxTOP, 20);
    
    my $label_2 = Wx::StaticText->new($self, wxID_ANY, "You currently have Wx version \$Wx::VERSION.");
    $label_2->SetLabel("You currently have Wx version $Wx::VERSION.");
    $self->{sizer_4}->Add($label_2, 0, wxBOTTOM|wxTOP, 10);
    
    $self->{sizer_5} = Wx::BoxSizer->new(wxHORIZONTAL);
    $self->{sizer_4}->Add($self->{sizer_5}, 0, wxEXPAND, 0);
    
    my $label_4 = Wx::StaticText->new($self, wxID_ANY, "Please consult the ");
    $self->{sizer_5}->Add($label_4, 0, wxALIGN_CENTER_VERTICAL, 0);
    
    $self->{hyperlink_1} = Wx::HyperlinkCtrl->new($self, wxID_ANY, "installation instructions", "https://www.chordpro.org/chordpro/chordpro-installation/", wxDefaultPosition, wxDefaultSize, wxHL_DEFAULT_STYLE);
    $self->{sizer_5}->Add($self->{hyperlink_1}, 0, wxALIGN_CENTER_VERTICAL, 0);
    
    my $label_5 = Wx::StaticText->new($self, wxID_ANY, " on the ChordPro web site.");
    $self->{sizer_5}->Add($label_5, 0, wxALIGN_CENTER_VERTICAL, 0);
    
    $self->{sizer_2} = Wx::StdDialogButtonSizer->new();
    $self->{sizer_1}->Add($self->{sizer_2}, 0, wxALIGN_RIGHT|wxALL, 20);
    
    $self->{button_OK} = Wx::Button->new($self, wxID_EXIT, "");
    $self->{button_OK}->SetDefault();
    $self->{sizer_2}->Add($self->{button_OK}, 0, wxEXPAND, 0);
    
    $self->{sizer_2}->Realize();
    
    $self->SetSizer($self->{sizer_1});
    $self->{sizer_1}->Fit($self);
    
    $self->SetAffirmativeId($self->{button_OK}->GetId());
    
    $self->Layout();
    # end wxGlade
    return $self;

}


# end of class ChordPro::Wx::WxUpdateRequired

1;

package MyApp;

use base qw(Wx::App);
use strict;

sub OnInit {
    my( $self ) = shift;

    Wx::InitAllImageHandlers();

    my $Update = ChordPro::Wx::WxUpdateRequired->new();

    $self->SetTopWindow($Update);
    $Update->Show(1);

    return 1;
}
# end of class MyApp

package main;

unless(caller){
    my $app = MyApp->new();
    $app->MainLoop();
}
